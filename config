####################################################
# i3config (i3configger: Mon May 22 15:50:27 2017) #
####################################################
set $base03  #002b36
set $base02  #073642
set $base01  #586e75
set $base00  #657b83
set $base0   #839496
set $base1   #93a1a1
set $base2   #eee8d5
set $base3   #fdf6e3
set $yellow  #b58900
set $orange  #cb4b16
set $red     #dc322f
set $magenta #d33682
set $violet  #6c71c4
set $blue    #268bd2
set $cyan    #2aa198
set $green   #859900

# client: border, background, text, indicator, child_background
# focused
set $cfbr #fdf6e3
set $cfbg #859900
set $cftxt #fdf6e3
set $cfind #268bd2
set $cfchildb #859900

# unfocused
set $cubr #839496
set $cubg #073642
set $cutxt #93a1a1
set $cuind #268bd2
set $cuchildb #073642

set $cfibr #859900
set $cfibg #002b36
set $cfitxt #859900
set $cfiind #268bd2
set $cfichildb #002b36

set $curbr #fdf6e3
set $curbg #2aa198
set $curtxt #657b83
set $curind #268bd2
set $curchildb #2aa198

# bar

set $bar_focused_background #002b36
set $bar_focused_statusline #fdf6e3
set $bar_focused_separator  #b58900
set $bar_background #073642
set $bar_statusline #fdf6e3
set $bar_separator  #657b83

# workspace: border, background, text
# focused
set $fwbr #073642
set $fwbg #859900
set $fwtxt #fdf6e3

# inactive
set $iwbr #073642
set $iwbg #073642
set $iwtxt #93a1a1

# active
set $awbr #073642
set $awbg #002b36
set $awtxt #859900

# binding mode
set $bmbr #fdf6e3
set $bmbg #2aa198
set $bmtxt #fdf6e3

# urgent
set $uwbr #fdf6e3
set $uwbg #cb4b16
set $uwtxt #fdf6e3

set $lockColor cb4b16

### basic-settings.i3conf ###
font "pango:Deja Vu Sans Mono Bold 7"

workspace_auto_back_and_forth yes
focus_on_window_activation focus
workspace_layout tabbed
floating_modifier $win
focus_follows_mouse no
popup_during_fullscreen leave_fullscreen
new_window normal
new_float normal

set $alt Mod1
set $win Mod4
set $bin ~/.i3/bin

set $ws1 "1: ÔÇÜ "
set $ws2 "2: Ôáù "
set $ws3 "3: ÔäÇ "
set $ws4 "4: ÔÑ† "
set $ws5 "5: ÔÖ∫ "
set $ws6 "6: ÔÑà "
set $ws7 "7: ÔÅº "
set $ws8 "8: ÔÅÑ "
set $ws9 "9: ìÅâ "
set $ws10 "10: ÔÑ° "
set $ws13 "13: ÔÖÑ "

### control-containers.i3conf ###
bindsym $win+asciicircum focus mode_toggle
bindsym $win+u layout tabbed
bindsym $win+i layout stacking
bindsym $win+o layout toggle split
bindsym $win+p focus parent
bindsym $win+udiaeresis layout toggle all
bindsym $win+Shift+p focus child
bindsym $win+comma split h
bindsym $win+period split v
bindsym $win+Shift+asciicircum floating toggle

### control-fn-keys.i3conf ###
# TODO use bindcode for real fn keys

# bindsym $win+F4 exec $bin/toggle-touchpad.sh
bindsym $win+F4 exec --no-startup-id firefox
bindsym $win+F6 exec --no-startup-id pactl set-sink-volume 0 -1%
bindsym $win+F7 exec --no-startup-id pactl set-sink-volume 0 +1%
bindsym $win+F5 exec --no-startup-id pactl set-sink-mute 0 toggle

bindsym $win+F9 exec xbacklight -dec 5
bindsym $win+F10 exec xbacklight -inc 5

bindsym XF86AudioPlay exec quodlibet --play
bindsym XF86AudioPause exec quodlibet --pause
bindsym XF86AudioNext exec quodlibet --next
bindsym XF86AudioPrev exec quodlibet --previous

# Print key | Druck/S-Abfr
bindcode 107 exec "xfce4-screenshooter --fullscreen"
bindcode Shift+107 exec "xfce4-screenshooter --region"

### control-layout.i3conf ###
bindsym $win+e workspace $ws7

bindsym $win+x move workspace to output right

bindsym $win+Shift+Left move left
bindsym $win+Shift+Down move down
bindsym $win+Shift+Up move up
bindsym $win+Shift+Right move right
bindsym $win+1 workspace $ws1
bindsym $win+2 workspace $ws2
bindsym $win+3 workspace $ws3
bindsym $win+4 workspace $ws4
bindsym $win+5 workspace $ws5
bindsym $win+6 workspace $ws6
bindsym $win+7 workspace $ws7
bindsym $win+8 workspace $ws8
bindsym $win+9 workspace $ws9
bindsym $win+0 workspace $ws10

### control-navigation.i3conf ###
bindsym $alt+Tab workspace back_and_forth
bindsym $win+Tab exec "rofi -show window"
bindsym $win+Shift+Tab exec "rofi -modi 'Workspace:$bin/i3wslist.sh,Move to Workspace:$bin/i3wsmove.sh' -show Workspace"

bindsym $win+Left focus left
bindsym $win+Down focus down
bindsym $win+Up focus up
bindsym $win+Right focus right

bindsym $win+$alt+Left workspace prev
bindsym $win+$alt+Right workspace next

bindsym $win+Shift+1 move container to workspace number $ws1
bindsym $win+Shift+2 move container to workspace number $ws2
bindsym $win+Shift+3 move container to workspace number $ws3
bindsym $win+Shift+4 move container to workspace number $ws4
bindsym $win+Shift+5 move container to workspace number $ws5
bindsym $win+Shift+6 move container to workspace number $ws6
bindsym $win+Shift+7 move container to workspace number $ws7
bindsym $win+Shift+8 move container to workspace number $ws8
bindsym $win+Shift+9 move container to workspace number $ws9
bindsym $win+Shift+0 move container to workspace number $ws10

### control-others.i3conf ###
# i3wm

bindsym $win+Shift+e exec "i3-nagbar -t warning -m 'Exit i3wm?' -b 'Yes' 'i3-msg exit'"
bindsym $win+Shift+c restart
bindsym $win+Shift+r reload

# Terminal

bindsym $win+Return exec xfce4-terminal --maximize --hide-menubar

# Media and stuff

bindsym $win+a exec clerk
bindsym $win+Control+p exec --no-startup-id mpc toggle

# Rofi

bindsym $alt+space exec "rofi -combi-modi window,drun,run,ssh -show combi -modi combi,run,files:$bin/rofi-file-browser.sh"
bindsym $alt+Shift+space rofi -modi "clipboard:roficlip.py --show,persistent:roficlip.py --show --persistent,actions:roficlip.py --show --actions" -show clipboard

# Locking and suspending

bindsym $win+Shift+l exec i3lock -c $lockColor
bindsym $win+Shift+s exec systemctl suspend & i3lock -c $lockColor

# Specials

# My Notebook does not have a context menu key. This is a replacement
bindsym --release $win+y exec sleep 0.1 && xdotool key Menu

### control-windows.i3conf ###
# numbersign == #
bindsym F11 fullscreen
bindsym $win+Shift+numbersign kill
bindsym Shift+F12 move scratchpad
bindsym F12 scratchpad show
bindsym Control+F12 sticky toggle

### mode-resize.i3conf ###
bindsym $win+r mode "resize"
mode "resize" {
    # enter: $win+r; exit: Enter, Escape
    # width[left:shrink|right:grow] | height[down:shrink|up:grow]
    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt
    bindsym Down resize shrink height 10 px or 10 ppt
    bindsym Up resize grow height 10 px or 10 ppt
    bindsym Return mode "default"
    bindsym Shift+Left resize shrink width 100 px or 100 ppt
    bindsym Shift+Right resize grow width 100 px or 100 ppt
    bindsym Shift+Down resize shrink height 100 px or 100 ppt
    bindsym Shift+Up resize grow height 100 px or 100 ppt
    bindsym Shift+Left resize shrink width 100 px or 100 ppt
    bindsym Shift+Right resize grow width 100 px or 100 ppt
    bindsym Shift+Down resize shrink height 100 px or 100 ppt
    bindsym Shift+Up resize grow height 100 px or 100 ppt
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

### status-bar-settings.i3conf ###
set $bar_status_command "py3status -c ~/.i3/status-bar.conf -i ~/.i3/py3status -l ~/.i3/py3status.log -b -t 1"
set $bar_mode dock
set $bar_position bottom
set $bar_tray_output DP-3
set $bar_separator_symbol ‚ïë
set $bar_font "pango:Deja Vu Sans Mono, FontAwesome 7"


bar {
    status_command $bar_status_command
    position $bar_position
    tray_output $bar_tray_output
    tray_padding 0
    font $bar_font
    mode $bar_mode
    modifier $win
    bindsym button4 nop
    bindsym button5 nop
    separator_symbol $bar_separator_symbol
    colors {
        focused_background $bar_focused_background
        focused_statusline $bar_focused_statusline
        focused_separator  $bar_focused_separator
        background $bar_background
        statusline $bar_statusline
        separator  $bar_separator_symbol
        focused_workspace  $fwbr $fwbg $fwtxt
        inactive_workspace $iwbr $iwbg $iwtxt
        active_workspace   $awbr $awbg $awtxt
        binding_mode       $bmbr $bmbg $bmtxt
        urgent_workspace   $uwbr $uwbg $uwtxt
    }
}

### window-decorations.i3conf ###
hide_edge_borders both

client.background       #000000
client.focused          $cfbr  $cfbg  $cftxt $cfind $cfchildb
client.unfocused        $cubr  $cubg  $cutxt $cuind $cuchildb
client.focused_inactive $cfibr $cfibg $cfitxt $cfiind $cfichildb
client.urgent           $curbr $curbg $curtxt $curind $curchildb

### window-fixers-pycharm.i3conf ###
set $pyCharmMainWindows ^Commit Changes
set $pcWin Debug|Inspection|^Find$|^Changes$|^Run$|Version Control|Messages
set $pcWin2 ^Database Console|^Grep Console|^Unversioned Files|^Push Commits

assign [class="jetbrains-pycharm" title="$pyCharmMainWindows"] $ws2
assign [class="jetbrains-pycharm" title="($pcWin|$pcWin2)"] $ws2

# diff view hack
for_window [class="jetbrains-pycharm" instance="sun-awt-X11-XDialogPeer" title=".*\(/home/.*"] floating disable; move to workspace $ws2; workspace $ws2

for_window [class="jetbrains-pycharm" title="$pyCharmMainWindows"] floating disable
for_window [class="jetbrains-pycharm" title="($pcWin|$pcWin2)"] floating disable

### window-fixers-remote-desktops.i3conf ###
for_window [title="FreeRDP:.*"] floating disable
for_window [class="xfreerdp"] floating disable
for_window [class="xfdesktop"] floating enable
